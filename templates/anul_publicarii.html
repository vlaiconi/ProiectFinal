{% extends 'base.html' %}

{% block title %}ActualizeazÄƒ anul publicÄƒrii{% endblock %}

{% block content %}
<h1 class="mb-4">ğŸ“š ActualizeazÄƒ anul publicÄƒrii pentru o carte</h1>

{% if mesaj %}
    <div class="alert alert-info">{{ mesaj }}</div>
{% endif %}

<form method="POST" action="{{ url_for('anul_publicarii') }}" class="mb-5">
    <div class="mb-3">
        <label for="carte" class="form-label">Alege cartea:</label>
        <select id="carte" name="carte" class="form-select" required>
            <option value="" disabled selected>-- SelecteazÄƒ o carte --</option>
            {% for carte in carti %}
                <option value="{{ carte[0] }}">{{ carte[0] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label for="anul" class="form-label">Anul publicÄƒrii:</label>
        <input type="number" id="anul" name="anul" class="form-control" min="1500" max="{{ current_year }}" required placeholder="ex: 2023">
    </div>

    <button type="submit" class="btn btn-primary">ğŸ’¾ ActualizeazÄƒ</button>
</form>

{% if carti_actualizate %}
    <h2 class="mb-3">ğŸ“– Lista actualizatÄƒ a cÄƒrÈ›ilor</h2>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Titlu</th>
                <th>Anul publicÄƒrii</th>
            </tr>
        </thead>
        <tbody>
            {% for carte, anul in carti_actualizate %}
                <tr>
                    <td>{{ carte }}</td>
                    <td>
                        {% if anul %}
                            {{ anul }}
                        {% else %}
                            <em>necunoscut</em>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p class="text-muted">Nu existÄƒ date despre anul publicÄƒrii.</p>
{% endif %}

{% endblock %}
